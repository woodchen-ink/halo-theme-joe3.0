!function(){"use strict";class n{constructor(n,i,a,e){this.name=n,this.description=i,this.category=a,this.style=e,this.extension=["tieba"].includes(a)?"gif":"png"}}const i=[...[new n("kuxiao","哭笑","haha"),new n("heng","哼","haha"),new n("guzhang","鼓掌","haha"),new n("haha","哈哈","haha"),new n("aini","爱你","haha"),new n("bazhang","巴掌","haha"),new n("beishang","悲伤","haha"),new n("han","汗","haha"),new n("deyi","得意","haha"),new n("ok","ok","haha"),new n("touxiao","偷笑","haha"),new n("wabikong","挖鼻孔","haha"),new n("weiqu","委屈","haha"),new n("weixiao","微笑","haha"),new n("huaixiao","坏笑","haha"),new n("woshou","握手","haha"),new n("wulian","捂脸","haha"),new n("xiaku","吓哭","haha"),new n("xiaoku","笑哭","haha"),new n("xixi","嘻嘻","haha"),new n("qinqin","亲亲","haha"),new n("qiwang","期望","haha"),new n("chanzui","馋嘴","haha"),new n("huaxin","花心","haha"),new n("hufen","互粉","haha"),new n("keai","可爱","haha"),new n("kelian","可怜","haha"),new n("bishi","鄙视","haha"),new n("bizui","闭嘴","haha"),new n("yep","耶","haha"),new n("zan","赞","haha"),new n("yihuo","疑惑","haha"),new n("yinxiao","阴笑","haha"),new n("yiwen","疑问","haha"),new n("bujiandan","不简单","haha"),new n("bye","拜拜","haha"),new n("chigua","吃瓜","haha"),new n("chijing","吃惊","haha"),new n("chuitou","锤头","haha"),new n("dahaqian","打哈欠","haha"),new n("fahuo","发火","haha"),new n("bang","棒","haha"),new n("gou","狗","haha"),new n("guolai","过来","haha"),new n("haixiu","害羞","haha"),new n("hashiiqi","哈士奇","haha"),new n("heixian","黑线","haha"),new n("kouzhao","口罩","haha"),new n("kulou","骷髅","haha"),new n("kun","困","haha"),new n("landelini","懒得理你","haha"),new n("mao","猫","haha"),new n("outu","呕吐","haha"),new n("qian","钱","haha"),new n("quantou","拳头","haha"),new n("shaoerbuyi","少儿不宜","haha"),new n("shayan","傻眼","haha"),new n("shengbing","生病","haha"),new n("tushetou","吐舌头","haha"),new n("shuijiao","睡觉","haha"),new n("sikao","思考","haha"),new n("shiwang","失望","haha"),new n("taikaixin","太开心","haha"),new n("tear","流泪","haha"),new n("tianping","舔屏","haha"),new n("xu","嘘","haha"),new n("youhengheng","右哼哼","haha"),new n("yun","晕","haha"),new n("zhouma","咒骂","haha"),new n("zhuakuang","抓狂","haha"),new n("zuohengheng","左哼哼","haha"),new n("zuoyi","作揖","haha")],...[new n("baiyan","白眼","bilibili",{"animation-duration":"1800ms","animation-timing-function":"steps(45)",transform:"translateY(-1408px)",height:"1440px"}),new n("fadai","发呆","bilibili",{"animation-duration":"1080ms","animation-timing-function":"steps(27)",transform:"translateY(-832px)",height:"864px"}),new n("koubi","抠鼻","bilibili",{"animation-duration":"1200ms","animation-timing-function":"steps(30)",transform:"translateY(-928px)",height:"960px"}),new n("qinqin","亲亲","bilibili",{"animation-duration":"280ms","animation-timing-function":"steps(7)",transform:"translateY(-192px)",height:"224px"}),new n("weiqu","委屈","bilibili",{"animation-duration":"800ms","animation-timing-function":"steps(20)",transform:"translateY(-608px)",height:"640px"}),new n("bishi","鄙视","bilibili",{"animation-duration":"360ms","animation-timing-function":"steps(9)",transform:"translateY(-256px)",height:"288px"}),new n("fanu","发怒","bilibili",{"animation-duration":"1320ms","animation-timing-function":"steps(33)",transform:"translateY(-1024px)",height:"1056px"}),new n("kun","困","bilibili",{"animation-duration":"1760ms","animation-timing-function":"steps(44)",transform:"translateY(-1376px)",height:"1408px"}),new n("se","色","bilibili",{"animation-duration":"400ms","animation-timing-function":"steps(10)",transform:"translateY(-288px)",height:"320px"}),new n("weixiao","微笑","bilibili",{"animation-duration":"800ms","animation-timing-function":"steps(20)",transform:"translateY(-608px)",height:"640px"}),new n("bizui","闭嘴","bilibili",{"animation-duration":"1240ms","animation-timing-function":"steps(31)",transform:"translateY(-960px)",height:"992px"}),new n("ganga","尴尬","bilibili",{"animation-duration":"1520ms","animation-timing-function":"steps(38)",transform:"translateY(-1184px)",height:"1216px"}),new n("lengmo","冷漠","bilibili",{"animation-duration":"40ms","animation-timing-function":"steps(1)",transform:"translateY(-0px)",height:"32px"}),new n("shengbing","生病","bilibili",{"animation-duration":"1400ms","animation-timing-function":"steps(35)",transform:"translateY(-1088px)",height:"1120px"}),new n("wunai","无奈","bilibili",{"animation-duration":"920ms","animation-timing-function":"steps(23)",transform:"translateY(-704px)",height:"736px"}),new n("chan","馋","bilibili",{"animation-duration":"1600ms","animation-timing-function":"steps(40)",transform:"translateY(-1248px)",height:"1280px"}),new n("guilian","鬼脸","bilibili",{"animation-duration":"40ms","animation-timing-function":"steps(1)",transform:"translateY(-0px)",height:"32px"}),new n("liubixue","流鼻血","bilibili",{"animation-duration":"1400ms","animation-timing-function":"steps(35)",transform:"translateY(-1088px)",height:"1120px"}),new n("shengqi","生气","bilibili",{"animation-duration":"440ms","animation-timing-function":"steps(11)",transform:"translateY(-320px)",height:"352px"}),new n("xiaoku","笑哭","bilibili",{"animation-duration":"600ms","animation-timing-function":"steps(15)",transform:"translateY(-448px)",height:"480px"}),new n("daku","大哭","bilibili",{"animation-duration":"320ms","animation-timing-function":"steps(8)",transform:"translateY(-224px)",height:"256px"}),new n("guzhang","鼓掌","bilibili",{"animation-duration":"680ms","animation-timing-function":"steps(17)",transform:"translateY(-512px)",height:"544px"}),new n("liuhan","流汗","bilibili",{"animation-duration":"1080ms","animation-timing-function":"steps(27)",transform:"translateY(-832px)",height:"864px"}),new n("shuizhao","睡着","bilibili",{"animation-duration":"960ms","animation-timing-function":"steps(24)",transform:"translateY(-736px)",height:"768px"}),new n("xieyanxiao","斜眼笑","bilibili",{"animation-duration":"320ms","animation-timing-function":"steps(8)",transform:"translateY(-224px)",height:"256px"}),new n("dalao","大佬","bilibili",{"animation-duration":"1320ms","animation-timing-function":"steps(33)",transform:"translateY(-1024px)",height:"1056px"}),new n("haixiu","害羞","bilibili",{"animation-duration":"1240ms","animation-timing-function":"steps(31)",transform:"translateY(-960px))",height:"992px"}),new n("liulei","流泪","bilibili",{"animation-duration":"40ms","animation-timing-function":"steps(1)",transform:"translateY(-0px)",height:"32px"}),new n("sikao","思考","bilibili",{"animation-duration":"1440ms","animation-timing-function":"steps(36)",transform:"translateY(-1120px)",height:"1152px"}),new n("yiwen","疑问","bilibili",{"animation-duration":"840ms","animation-timing-function":"steps(21)",transform:"translateY(-640px)",height:"672px"}),new n("dalian","打脸","bilibili",{"animation-duration":"1480ms","animation-timing-function":"steps(37)",transform:"translateY(-1152px)",height:"1184px"}),new n("heirenwenhao","黑人问号","bilibili",{"animation-duration":"1040ms","animation-timing-function":"steps(26)",transform:"translateY(-800px)",height:"832px"}),new n("miantian","腼腆","bilibili",{"animation-duration":"1120ms","animation-timing-function":"steps(28)",transform:"translateY(-864px)",height:"896px"}),new n("tiaokan","调侃","bilibili",{"animation-duration":"40ms","animation-timing-function":"steps(1)",transform:"translateY(-0px)",height:"32px"}),new n("yun","晕","bilibili",{"animation-duration":"480ms","animation-timing-function":"steps(12)",transform:"translateY(-352px)",height:"384px"}),new n("dianzan","点赞","bilibili",{"animation-duration":"800ms","animation-timing-function":"steps(20)",transform:"translateY(-608px)",height:"640px"}),new n("huaixiao","坏笑","bilibili",{"animation-duration":"1240ms","animation-timing-function":"steps(31)",transform:"translateY(-960px)",height:"992px"}),new n("mudengkoudai","目瞪口呆","bilibili",{"animation-duration":"40ms","animation-timing-function":"steps(1)",transform:"translateY(-0px)",height:"32px"}),new n("tiaopi","调皮","bilibili",{"animation-duration":"2000ms","animation-timing-function":"steps(50)",transform:"translateY(-1568px)",height:"1600px"}),new n("zaijian","再见","bilibili",{"animation-duration":"960ms","animation-timing-function":"steps(24)",transform:"translateY(-736px)",height:"768px"}),new n("doge","狗头","bilibili",{"animation-duration":"800ms","animation-timing-function":"steps(20)",transform:"translateY(-608px)",height:"640px"}),new n("jingxia","惊吓","bilibili",{"animation-duration":"1280ms","animation-timing-function":"steps(32)",transform:"translateY(-992px)",height:"1024px"}),new n("nanguo","难过","bilibili",{"animation-duration":"1120ms","animation-timing-function":"steps(28)",transform:"translateY(-864px)",height:"896px"}),new n("touxiao","偷笑","bilibili",{"animation-duration":"240ms","animation-timing-function":"steps(6)",transform:"translateY(-160px)",height:"192px"}),new n("zhoumei","皱眉","bilibili",{"animation-duration":"40ms","animation-timing-function":"steps(1)",transform:"translateY(-0px)",height:"32px"}),new n("facai","发财","bilibili",{"animation-duration":"1200ms","animation-timing-function":"steps(30)",transform:"translateY(-928px)",height:"960px"}),new n("keai","可爱","bilibili",{"animation-duration":"680ms","animation-timing-function":"steps(17)",transform:"translateY(-512px)",height:"544px"}),new n("outu","呕吐","bilibili",{"animation-duration":"1680ms","animation-timing-function":"steps(42)",transform:"translateY(-1312px)",height:"1344px"}),new n("tuxue","吐血","bilibili",{"animation-duration":"320ms","animation-timing-function":"steps(8)",transform:"translateY(-224px)",height:"256px"}),new n("zhuakuang","抓狂","bilibili",{"animation-duration":"760ms","animation-timing-function":"steps(19)",transform:"translateY(-576px)",height:"608px"})],...[new n("tongue","吐舌","tieba"),new n("theblackline","尴尬","tieba"),new n("tear","大哭","tieba"),new n("surprised","惊哭","tieba"),new n("surprised2","惊讶","tieba"),new n("spray","喷","tieba"),new n("spit","呕吐","tieba"),new n("smilingeyes","笑眼","tieba"),new n("shui","睡觉","tieba"),new n("shame","羞辱","tieba"),new n("se","色","tieba"),new n("rmb","钱","tieba"),new n("reluctantly","勉强","tieba"),new n("rbq","观望","tieba"),new n("niconiconi","爱你","tieba"),new n("naive","天真","tieba"),new n("ku","酷","tieba"),new n("huaji","滑稽","tieba"),new n("hu","呼","tieba"),new n("han","汗","tieba"),new n("haha","哈哈","tieba"),new n("good","棒","tieba"),new n("doubt","疑惑","tieba"),new n("britan","茶","tieba"),new n("bbd","棒棒哒","tieba"),new n("awesome","强","tieba"),new n("anger","愤怒","tieba"),new n("aa","啊啊","tieba"),new n("happy","高兴","tieba"),new n("grievance","郁闷","tieba")],...[new n("(⌒▽⌒)","(⌒▽⌒)","menhera"),new n("(￣▽￣)","(￣▽￣)","menhera"),new n("(=・ω・=)","(=・ω・=)","menhera"),new n("(｀・ω・´)","(｀・ω・´)","menhera"),new n("(〜￣△￣)〜","(〜￣△￣)〜","menhera"),new n("(･∀･)","(･∀･)","menhera"),new n("(°∀°)ﾉ","(°∀°)ﾉ","menhera"),new n("(￣3￣)","(￣3￣)","menhera"),new n("╮(￣▽￣)╭","╮(￣▽￣)╭","menhera"),new n("(´_ゝ｀)","(´_ゝ｀)","menhera"),new n("←_←","←_←","menhera"),new n("→_→","→_→","menhera"),new n("(<_<)","(<_<)","menhera"),new n("(>_>)","(>_>)","menhera"),new n("(;¬_¬)","(;¬_¬)","menhera"),new n("(▔□▔)/","(▔□▔)/","menhera"),new n("(ﾟДﾟ≡ﾟдﾟ)!?","(ﾟДﾟ≡ﾟдﾟ)!?","menhera"),new n("Σ(ﾟдﾟ;)","Σ(ﾟдﾟ;)","menhera"),new n("Σ(￣□￣||)","Σ(￣□￣||)","menhera"),new n("(’；ω；‘)","(’；ω；‘)","menhera"),new n("（/TДT)/","（/TДT)/","menhera"),new n("(^・ω・^ )","(^・ω・^ )","menhera"),new n("(｡･ω･｡)","(｡･ω･｡)","menhera"),new n("(●￣(ｴ)￣●)","(●￣(ｴ)￣●)","menhera"),new n("ε=ε=(ノ≧∇≦)ノ","ε=ε=(ノ≧∇≦)ノ","menhera"),new n("(’･_･‘)","(’･_･‘)","menhera"),new n("(-_-#)","(-_-#)","menhera"),new n("（￣へ￣）","（￣へ￣）","menhera"),new n("(￣ε(#￣)Σ","(￣ε(#￣)Σ","menhera"),new n("ヽ(‘Д’)ﾉ","ヽ(‘Д’)ﾉ","menhera"),new n("（#-_-)┯━┯","（#-_-)┯━┯","menhera"),new n("(╯°口°)╯(┴—┴","(╯°口°)╯(┴—┴","menhera"),new n("←◡←","←◡←","menhera"),new n("( ♥д♥)","( ♥д♥)","menhera"),new n("_(:3」∠)_","_(:3」∠)_","menhera"),new n("Σ>―(〃°ω°〃)♡→","Σ>―(〃°ω°〃)♡→","menhera"),new n("⁄(⁄ ⁄•⁄ω⁄•⁄ ⁄)⁄","⁄(⁄ ⁄•⁄ω⁄•⁄ ⁄)⁄","menhera"),new n("(╬ﾟдﾟ)▄︻┻┳═一","(╬ﾟдﾟ)▄︻┻┳═一","menhera"),new n("･*･:≡(　ε:)","･*･:≡(　ε:)","menhera"),new n("(笑)","(笑)","menhera"),new n("(汗)","(汗)","menhera"),new n("(泣)","(泣)","menhera"),new n("(苦笑)","(苦笑)","menhera")]];var a={_version:"1.0.0",isMobile:()=>!!(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i)),timeAgo(n){if(!n)return"未知时间";n=new Date(n).getTime();var i=(new Date).getTime()-n,e=Math.floor(i/864e5);if(0===e){var t=i%864e5,o=Math.floor(t/36e5);if(0===o){var r=t%36e5,s=Math.floor(r/6e4);if(0===s){var h=r%6e4,m=Math.round(h/1e3);return m<1?"刚刚":m+" 秒前"}return s+" 分钟前"}return o+" 小时前"}return e<0?"刚刚":1===e?"昨天":a.formatDate(n,"yyyy年MM月dd日 hh:mm")},formatDate(n,i="yyyy-MM-dd"){n=new Date(n),/(y+)/.test(i)&&(i=i.replace(RegExp.$1,(n.getFullYear()+"").substr(4-RegExp.$1.length)));let a={"M+":n.getMonth()+1,"d+":n.getDate(),"h+":n.getHours(),"m+":n.getMinutes(),"s+":n.getSeconds()};for(let n in a)if(new RegExp(`(${n})`).test(i)){let e=a[n]+"";i=i.replace(RegExp.$1,1===RegExp.$1.length?e:e.padStart(2,"0"))}return i},getNavLangSub(){var n=navigator.language;return(n=n.substr(0,2))||(n=navigator.browserLanguage),n},getUrlParams(){var n=location.search;"string"!=typeof n&&(n=n.toString());var i=n.replace(/^[^\?]*\?/i,"").split(/&/),a={};return i.length<1||Array.isArray(i)&&i.forEach((function(n){if(!n)return!1;var i=n.split(/=/);if(i.length>=2){var e=i.splice(0,1);a[e]=i.join("=")}})),a},request:({url:n="",method:i="GET",data:a,headers:e={},timeout:t=1e4,returnRaw:o=!1})=>new Promise(((r,s)=>{i=i.toUpperCase(),$.ajax({url:`${n}${"GET"===i?`${-1===n.indexOf("?")?"?":"&"}_r=${Date.now()}`:""}`,type:i,headers:{"API-Authorization":ThemeConfig.access_key||"joe2.0",...e},async:!0,dataType:"json",timeout:t,data:a,success(n){o?r(n):200===n.status?r(n.data||""):s(n)},error(n){const i=n&&n.responseJSON?n.responseJSON.message:"出错了！";Qmsg.error(i),s(i)}})})),throttle(n,i=250){let a,e;return function(){const t=this,o=[...arguments],r=Date.now();e&&e+i>r?(clearTimeout(a),a=null,a=setTimeout((()=>{e=r,n.apply(t,o)}),i)):(e=r,n.apply(t,o))}},sleep:(n=250)=>new Promise((i=>setTimeout(i,n))),setCookie(n,i,e){var t=n+a._version,o="";if(e){var r=new Date;r.setTime(r.getTime()+24*e*60*60*1e3),o="; expires="+r.toUTCString()}document.cookie=t+"="+(i||"")+o+"; path=/"},getCookie(n){for(var i=n+a._version+"=",e=document.cookie.split(";"),t=0;t<e.length;t++){for(var o=e[t];" "==o.charAt(0);)o=o.substring(1,o.length);if(0==o.indexOf(i))return o.substring(i.length,o.length)}return null},removeCookie(n){var i=n+a._version+"=";document.cookie=i+"=; Max-Age=-99999999;"},setLocalStorage(n,i,e=3600){var t=n+a._version,o=new Date;try{localStorage.setItem(t,JSON.stringify({expires:o.valueOf()+1e3*e,data:i}))}catch(a){"QuotaExceededError"===a.name&&(console.log("数据已满，自动清空"),localStorage.clear(),setLocalStorage(n,i,e))}},getLocalStorage(n){var i=n+a._version,e=JSON.parse(localStorage.getItem(i)),t=new Date;return e&&e.expires>t?e.data:(localStorage.removeItem(i),null)},removeLocalStorage(n){var i=n+a._version;localStorage.removeItem(i)},loadJS(n,i){a._loadRes("script",n,i)},loadCSS(n,i){a._loadRes("link",n,i)},_loadRes(n,i,a){var e,t=a||function(){};switch(n){case"script":(e=document.createElement(n)).type="text/javascript",e.src=i;break;case"link":(e=document.createElement(n)).type="text/css",e.type="stylesheet",e.href=i;break;default:return void console.warn("暂不支持："+n+" 类型")}e.readyState?e.onreadystatechange=function(){"loaded"!=e.readyState&&"complete"!=e.readyState||(e.onreadystatechange=null,t())}:e.onload=function(){t()},document.getElementsByTagName("head")[0].appendChild(e)},getRandomColor(n=0,i=1){return n||(n=0),i||(i=0),n=isNaN(n)?0:Number(n),i=isNaN(i)?1:Number(i),n=Math.min(Math.max(Math.abs(n),0),1),i=(i=Math.min(Math.max(Math.abs(i),0),1))<n?1:i,"#"+(a=(16777216*(Math.random()*(i-n)+n)<<0).toString(16),new Array(7-a.length).join("0")+a);var a},removeClassByPrefix(n,i){const a=n.className.split(" ").filter((function(n){return 0!==n.lastIndexOf(i,0)}));n.className=a.join(" ").trim()},renderedEmojiHtml(n){const i=new DOMParser;return a.removeNotEmoji(i.parseFromString(n,"text/html")).body.innerHTML},trimTailBr:n=>n.replace(/((\s|&nbsp;)*\r?\n)+$/g,""),limitBr:n=>n.replace(/((\s|&nbsp;)*\r?\n){3,}/g,""),trimHeadBr:n=>n.replace(/^((\s|&nbsp;)*\r?\n)+/g,""),removeNotEmoji(n){const i=n.getElementsByClassName("emoji-img");let e=!0;for(let n=0;n<i.length;n++){const t=i[n].dataset.icon;if(!a.findEmoji("tieba",t)&&!a.findEmoji("haha",t)){e=!1;break}}if(e)return n;const t=i[0],o=t.dataset.icon;return a.findEmoji("tieba",o)||a.findEmoji("haha",o)||a.removeNode(t),a.removeNotEmoji(n)},removeNode(n){const i=n.getAttribute("alt"),a=document.createTextNode(i);n.parentNode.replaceChild(a,n)},findEmoji:(n,a)=>i.filter((i=>i.category===n&&i.name===a)).length>0,return2Br:n=>(n=a.trimHeadBr(n),n=a.trimTailBr(n),n=a.limitBr(n))};window.Utils=a}();
